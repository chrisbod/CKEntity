<!DOCTYPE html>
<!--
Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
-->
<html>
<head>
	<meta charset="utf-8">
	<title>XHTML Compliant Output &mdash; CKEditor Sample</title>
	<meta name="ckeditor-sample-required-plugins" content="sourcearea">
	<script src="../vendor/ckeditor/ckeditor.js"></script>
	
	
	<link href="../vendor/ckeditor/samples/sample.css" rel="stylesheet">
</head>
<body>
	<h1>
		Scratch pad for plugin development
	</h1>
			<label for="editor1">
				Editor 1:
			</label>
			<textarea cols="80" id="editor1" name="editor1" rows="10"></textarea>
	<div id="footer">
		<hr>
		<p>
			CKEditor - The text editor for the Internet - <a class="samples" href="http://ckeditor.com/">http://ckeditor.com</a>
		</p>
		<p id="copy">
			Copyright &copy; 2003-2015, <a class="samples" href="http://cksource.com/">CKSource</a> - Frederico
			Knabben. All rights reserved.
		</p>
	</div>
	<script>

///CKEDITOR.plugins.addExternal( 'timestamp', 'http://sdk.ckeditor.com/samples/assets/plugins/timestamp/', 'plugin.js' );

				CKEDITOR.replace( 'editor1', {
					extraPlugins: 'autosuggest'
				} );

	</script>
	<!--script src="scripts/xhtml.js"></script>
	<script src="scripts/entity.js"></-->
		<style>	
div.autosuggest-container {
	position: absolute;
	z-index: 1000;
	top: 0;
	visibility: hidden;
	background-color: white;
	border: 1px solid black;
	margin-right: 20px;
	overflow: auto;

}
div.autosuggest-container p {
	color: black;
	margin: 0.2ex 0.5ex;
}
div.autosuggest-container p:hover {
	color: white;
	background-color: black
}

		</style>
<script>

window.AutoSuggestContainer = function AutoSuggestContainer() {
	this.element = document.createElement("div")
	this.element.className = "autosuggest-container";
	this.element.onclick = this.clickHandler.bind(this)
}

AutoSuggestContainer.prototype = {
	moveTo: function (x,y) {
		this.element.style.left = x+"px";
		this.element.style.top = y+"px";
		this.configureMetrics();

	},
	moveToElement: function (element) {
		var rect =element.getBoundingClientRect();
		this.moveTo(rect.top,rect.right);
		this.configureMetrics();
	},
	moveToCursorTopRight: function (cursorContainer) {
		var selection = cursorContainer.document.getSelection().getRangeAt(0)
		var range = selection.cloneRange()
		range.collapse();
		var rect = range.getClientRects()
		rect = rect[rect.length-1]
		this.moveTo(rect.top,rect.right);
		this.configureMetrics();
	},
	hide: function () {
		this.element.style.visibility = "";
	},
	show: function () {
		this.element.style.visibility = "hidden";
	},
	build: function (data) {
		this.element.innerHTML = "";
		var html = []
		for (var i=0;i<data.length;i++) {
			html[html.length] = '<p id="'+data[i].id+'">'+data[i].text+'</p>'
		}
		this.element.innerHTML = html.join('');
		document.body.appendChild(this.element);
		this.configureMetrics()
	},
	clickHandler: function (ev) {
		var p = (ev.target||event.srcElement);
		if (p!=this) {
			this.clicked(p.id,p.innerText,p)
		}
	},
	clicked: function (id,text,element) {
		console.log(text)
	},
	configureMetrics: function () {
		var viewRect = document.querySelector("html").getBoundingClientRect();
		var currentElementRect = this.element.getBoundingClientRect()

	}
}

</script>
		<script>
		onload = function () {
			var aS = new AutoSuggestContainer();
			aS.build([{
				id: 0,
				text: "sdfl;fksd;lfk ;ldskf s;dkf;s dlkfs"



			},
			{
				id: 1,
				text: "ads ads dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			},
			{
				id: 1,
				text: "ads ads  sdf sdfs dfsd fsdf dsf sdf fsf sdfs fsd dashdj ashdjash djashdkas hdkjashd kashkd "



			}]

			)
		}

		</script>
</body>
</html>
